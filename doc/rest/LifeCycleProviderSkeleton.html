<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_77) on Fri Apr 22 16:22:29 CEST 2016 -->
<title>LifeCycleProviderSkeleton</title>
<meta name="date" content="2016-04-22">
<link rel="stylesheet" type="text/css" href="../stylesheet.css" title="Style">
<script type="text/javascript" src="../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="LifeCycleProviderSkeleton";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":9,"i1":9,"i2":10,"i3":10,"i4":10};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/LifeCycleProviderSkeleton.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../deprecated-list.html">Deprecated</a></li>
<li><a href="../index-files/index-1.html">Index</a></li>
<li><a href="../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../rest/EntityService.html" title="class in rest"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li>Next&nbsp;Class</li>
</ul>
<ul class="navList">
<li><a href="../index.html?rest/LifeCycleProviderSkeleton.html" target="_top">Frames</a></li>
<li><a href="LifeCycleProviderSkeleton.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">rest</div>
<h2 title="Class LifeCycleProviderSkeleton" class="title">Class LifeCycleProviderSkeleton</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>rest.LifeCycleProviderSkeleton</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd>javax.ws.rs.container.ContainerRequestFilter, javax.ws.rs.container.ContainerResponseFilter, javax.ws.rs.ext.ExceptionMapper&lt;java.lang.Throwable&gt;</dd>
</dl>
<hr>
<br>
<pre>@TypeMetadata(copyright="2013-2015 Sascha Baumeister, all rights reserved",
              version="1.0.0",
              authors="Sascha Baumeister")
public class <span class="typeNameLabel">LifeCycleProviderSkeleton</span>
extends java.lang.Object
implements javax.ws.rs.container.ContainerRequestFilter, javax.ws.rs.container.ContainerResponseFilter, javax.ws.rs.ext.ExceptionMapper&lt;java.lang.Throwable&gt;</pre>
<div class="block">This life-cycle provider is a singleton adapter and deploys the following services for REST
 services:
 <ul>
 <li><b>Entity manager life-cycle management</b>: Entity managers are created upon the begin of
 any HTTP request, and closed at the end of it. This implies that the entity manager's are active
 during entity marshaling.</li>
 <li><b>Request-scoped transaction demarcation</b>: Additionally, the design allows for continuous
 transaction coverage, similar to JDBC. The idea is that a transaction is started automatically
 upon request begin, and at it's end the last active transaction is automatically rolled back.
 Services should immediately start a new transaction after committing an existing one.</li>
 <li><b>HTTP Basic authentification</b>: Returns the requesting user for a given HTTP Basic
 "Authorization" header value. Triggers HTTP 400/401 responses in case the requester cannot be
 authenticated.</li>
 <li><b>Exception mapping</b>: WebApplicationException instances are mapped to their
 respective HTTP responses, while all other exception types are mapped to HTTP 500 Internal Server
 Error. HTTP Codes of 500 and higher also cause the exception to be logged.</li>
 </ul>
 Note that the use of a thread local variable for entity manager injection is based on the
 precondition that any HTTP request is processed within a single thread. This assumption may be
 broken in some environments, but works nicely in most, like Jersey.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../rest/LifeCycleProviderSkeleton.html#LifeCycleProviderSkeleton--">LifeCycleProviderSkeleton</a></span>()</code>
<div class="block">Creates a new instance, and forces entity manager factory initialization if it has not
 happened yet.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>static <a href="../model/Person.html" title="class in model">Person</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../rest/LifeCycleProviderSkeleton.html#authenticate-java.lang.String-">authenticate</a></span>(java.lang.String&nbsp;authentication)</code>
<div class="block">Returns the authenticated requester (a person) for the given RFC 2617 "Basic" authentication.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>static javax.persistence.EntityManager</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../rest/LifeCycleProviderSkeleton.html#brokerManager--">brokerManager</a></span>()</code>
<div class="block">Returns the broker manager associated with the current thread.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../rest/LifeCycleProviderSkeleton.html#filter-javax.ws.rs.container.ContainerRequestContext-">filter</a></span>(javax.ws.rs.container.ContainerRequestContext&nbsp;requestContext)</code>
<div class="block">This operation is executed before an HTTP request is processed.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../rest/LifeCycleProviderSkeleton.html#filter-javax.ws.rs.container.ContainerRequestContext-javax.ws.rs.container.ContainerResponseContext-">filter</a></span>(javax.ws.rs.container.ContainerRequestContext&nbsp;requestContext,
      javax.ws.rs.container.ContainerResponseContext&nbsp;responseContext)</code>
<div class="block">This operation executes after an HTTP request has been processed, but before the entity
 stream has been written.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>javax.ws.rs.core.Response</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../rest/LifeCycleProviderSkeleton.html#toResponse-java.lang.Throwable-">toResponse</a></span>(java.lang.Throwable&nbsp;exception)</code>
<div class="block">Maps the given exception to a HTTP response.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>equals, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="LifeCycleProviderSkeleton--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>LifeCycleProviderSkeleton</h4>
<pre>public&nbsp;LifeCycleProviderSkeleton()</pre>
<div class="block">Creates a new instance, and forces entity manager factory initialization if it has not
 happened yet.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.RuntimeException</code> - if there is a problem configuring a persistence unit</dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="brokerManager--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>brokerManager</h4>
<pre>public static&nbsp;javax.persistence.EntityManager&nbsp;brokerManager()</pre>
<div class="block">Returns the broker manager associated with the current thread.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the entity manager</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.IllegalStateException</code> - if there is no entity manager associated with the current
         thread</dd>
</dl>
</li>
</ul>
<a name="authenticate-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>authenticate</h4>
<pre>public static&nbsp;<a href="../model/Person.html" title="class in model">Person</a>&nbsp;authenticate(java.lang.String&nbsp;authentication)</pre>
<div class="block">Returns the authenticated requester (a person) for the given RFC 2617 "Basic" authentication.
 This operation first decodes user alias and password from an authentication value. Then an
 SHA-256 hash-code is calculated for the password. Finally, the latter is used in conjunction
 with the user alias to query and return a suitable Person entity from the database.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>authentication</code> - the HTTP Basic "Authorization" header value, or <code>null</code> for none</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the authenticated requestor</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>javax.ws.rs.ClientErrorException</code> - (HTTP 400) if the given HTTP Basic "Authorization" header is
         malformed</dd>
<dd><code>javax.ws.rs.ClientErrorException</code> - (HTTP 401) if authentication is lacking or invalid</dd>
<dd><code>javax.persistence.PersistenceException</code> - (HTTP 500) if there is a problem with the persistence layer</dd>
<dd><code>java.lang.IllegalStateException</code> - (HTTP 500) if the entity manager associated with the current
         thread is not open</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><code>HttpAuthenticationCodec.decode(String)</code></dd>
</dl>
</li>
</ul>
<a name="toResponse-java.lang.Throwable-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>toResponse</h4>
<pre>public&nbsp;javax.ws.rs.core.Response&nbsp;toResponse(java.lang.Throwable&nbsp;exception)</pre>
<div class="block">Maps the given exception to a HTTP response. In case of a WebApplicationException instance,
 it's associated response is returned. Otherwise, a generic HTTP 500 response is returned. In
 all cases the exception is logged if it indicates a server side problem. Note that this
 operation is designed to be called by the JAX-RS runtime, not for use within REST services.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>toResponse</code>&nbsp;in interface&nbsp;<code>javax.ws.rs.ext.ExceptionMapper&lt;java.lang.Throwable&gt;</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>exception</code> - the exception to be mapped</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the mapped response</dd>
</dl>
</li>
</ul>
<a name="filter-javax.ws.rs.container.ContainerRequestContext-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>filter</h4>
<pre>public&nbsp;void&nbsp;filter(javax.ws.rs.container.ContainerRequestContext&nbsp;requestContext)</pre>
<div class="block">This operation is executed before an HTTP request is processed. It creates a new tournament
 entity manager and stores it within a thread local variable, for access by any component
 working within the same thread. Note that this operation is designed to be called by the
 JAX-RS runtime, not for use within REST services.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>filter</code>&nbsp;in interface&nbsp;<code>javax.ws.rs.container.ContainerRequestFilter</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>requestContext</code> - the JAX-RS request context</dd>
</dl>
</li>
</ul>
<a name="filter-javax.ws.rs.container.ContainerRequestContext-javax.ws.rs.container.ContainerResponseContext-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>filter</h4>
<pre>public&nbsp;void&nbsp;filter(javax.ws.rs.container.ContainerRequestContext&nbsp;requestContext,
                   javax.ws.rs.container.ContainerResponseContext&nbsp;responseContext)</pre>
<div class="block">This operation executes after an HTTP request has been processed, but before the entity
 stream has been written. It decorates the entity stream so that the decorator triggers when
 the entity stream has been written, in order to close and remove the current thread's
 tournament entity manager. Note that this operation is designed to be called by the JAX-RS
 runtime, not for use within REST services. Also note that this technology relies on the
 entity stream (rather, the decorator wrapping it) being closed regardless of the presence of
 absence of a response entity; in other words, we must rely on correct resource management by
 the JAX-RS implementation.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>filter</code>&nbsp;in interface&nbsp;<code>javax.ws.rs.container.ContainerResponseFilter</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>requestContext</code> - the JAX-RS request context</dd>
<dd><code>responseContext</code> - the JAX-RS response context</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/LifeCycleProviderSkeleton.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../deprecated-list.html">Deprecated</a></li>
<li><a href="../index-files/index-1.html">Index</a></li>
<li><a href="../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../rest/EntityService.html" title="class in rest"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li>Next&nbsp;Class</li>
</ul>
<ul class="navList">
<li><a href="../index.html?rest/LifeCycleProviderSkeleton.html" target="_top">Frames</a></li>
<li><a href="LifeCycleProviderSkeleton.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
